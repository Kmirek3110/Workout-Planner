{"ast":null,"code":"import _defineProperty from\"/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import APIService from'../APIService';import Select from'react-select';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ExerciseForm(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),all_exercises=_useState2[0],SetAllExercises=_useState2[1];var _useState3=useState({exercise_name:\"\",reps:\"\",sets:\"\"}),_useState4=_slicedToArray(_useState3,2),exercises=_useState4[0],setExercises=_useState4[1];var _useCookies=useCookies(['mytoken']),_useCookies2=_slicedToArray(_useCookies,1),token=_useCookies2[0];var _useState5=useState({reps:\"\",sets:\"\"}),_useState6=_slicedToArray(_useState5,1),errors=_useState6[0];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setExercises(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});switch(name){case\"reps\":errors.reps=!isNaN(value)&&0<value&&value<30?'':\"Must be a number between 0 and 30\";if(value===\"\")errors.reps=\"\";break;case\"sets\":errors.sets=!isNaN(value)&&0<value&&value<10?'':\"Must be a number between 0 and 10\";if(value===\"\")errors.sets=\"\";break;default:break;}};useEffect(function(){fetch('http://127.0.0.1:8000/api/api/exercise-list',{'method':'GET',headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(resp){return SetAllExercises(resp);});},[]);var all_names=all_exercises.map(function(item){return{value:item.exercise_name};});var AddExercise=function AddExercise(e){e.preventDefault();APIService.AddExercise(props.workout.id,exercises,token['mytoken']).then(props.addEx(props.workout.id,exercises)).then(props.showAddForm(false)).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exercises\",className:\"form-label\",children:\"Exercises\"}),/*#__PURE__*/_jsx(Select,{options:all_names,getOptionLabel:function getOptionLabel(options){return options[\"value\"];},getOptionValue:function getOptionValue(options){return options['value'];},name:\"exercise_name\",onChange:function onChange(e){setExercises(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},\"exercise_name\",e.value));});}}),/*#__PURE__*/_jsxs(\"div\",{className:\"Row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:exercises.reps,onChange:handleChange,name:\"reps\",placeholder:\"Number of reps\"}),errors.reps.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.reps}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:exercises.sets,onChange:handleChange,name:\"sets\",placeholder:\"Number of sets\"}),errors.sets.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.sets})]}),/*#__PURE__*/_jsx(\"button\",{onClick:AddExercise,className:\"btn btn-success\",children:\"Update Workout\"}),/*#__PURE__*/_jsx(\"br\",{})]});}export default ExerciseForm;","map":{"version":3,"sources":["/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/src/components/ExerciseForm.js"],"names":["React","useState","useEffect","APIService","Select","useCookies","ExerciseForm","props","all_exercises","SetAllExercises","exercise_name","reps","sets","exercises","setExercises","token","errors","handleChange","e","target","name","value","prevState","isNaN","fetch","headers","then","resp","json","all_names","map","item","AddExercise","preventDefault","workout","id","addEx","showAddForm","catch","error","console","log","options","length"],"mappings":"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","sourcesContent":["\n\nimport React, {useState, useEffect} from 'react'\nimport APIService from '../APIService'\nimport Select from 'react-select'\nimport {useCookies} from 'react-cookie';\n\n\n\n\nfunction ExerciseForm(props) {\n    const [all_exercises, SetAllExercises] = useState([])\n    const [exercises, setExercises] = useState({exercise_name:\"\",reps:\"\",sets:\"\"})\n    const [token] = useCookies(['mytoken'])\n    const [errors] = useState({reps:\"\",sets:\"\"})\n\n    const handleChange = e => {\n\n        const {name, value} = e.target;\n        setExercises(prevState => ({\n            ...prevState,\n            [name]:value\n        }))\n\n     \n\n        switch(name){\n            case \"reps\":\n                errors.reps = \n                    !isNaN(value) && 0 < value && value < 30 ? '' : \"Must be a number between 0 and 30\"\n\n                if (value === \"\")\n                    errors.reps = \"\" \n                break\n\n            case \"sets\":\n                errors.sets = \n                    !isNaN(value) && 0 < value && value < 10 ? '' : \"Must be a number between 0 and 10\"\n                if (value === \"\")\n                    errors.sets = \"\" \n                break\n            default:\n                break\n        }\n\n    }\n    \n    useEffect(() => {\n        fetch('http://127.0.0.1:8000/api/api/exercise-list', {\n        'method':'GET',\n        headers: {\n            'Content-Type':'application/json',\n            }\n            })\n        .then(resp => resp.json())\n        .then(resp => SetAllExercises(resp))\n    }, [])\n\n   \n    \n    let all_names = all_exercises.map(function(item){\n        return {value:item.exercise_name};\n    })\n\n\n    const AddExercise = (e) => {    \n            e.preventDefault()  \n            APIService.AddExercise(props.workout.id,exercises,token['mytoken'])\n            .then(props.addEx(props.workout.id, exercises))    \n            .then(props.showAddForm(false))\n            .catch(error => console.log(error))\n    }\n    \n    return (\n        <form>\n                \n            <label htmlFor = \"exercises\" className = \"form-label\">Exercises</label>\n            <Select options={all_names} \n                getOptionLabel={options => options[\"value\"]}\n                getOptionValue={(options) => options['value']} \n                name=\"exercise_name\"\n                onChange= {(e) => {\n                    setExercises(prevState => ({\n                        ...prevState,\n                        [\"exercise_name\"]:e.value}))}}/>\n            \n            <div className =\"Row\" >\n                <input type=\"text\" value={exercises.reps} onChange= {handleChange} name=\"reps\" placeholder = \"Number of reps\"/>\n                {errors.reps.length > 0 && <span className='error'>{errors.reps}</span>}\n                <input type=\"text\" value={exercises.sets} onChange= {handleChange} name=\"sets\" placeholder = \"Number of sets\"/>\n                {errors.sets.length > 0 && <span className='error'>{errors.sets}</span>}\n            </div>\n            <button onClick = {AddExercise} className = \"btn btn-success\">Update Workout</button>\n            <br/>\n            \n        </form>\n    )\n                   \n}\n\nexport default ExerciseForm\n"]},"metadata":{},"sourceType":"module"}