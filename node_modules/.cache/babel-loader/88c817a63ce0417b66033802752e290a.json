{"ast":null,"code":"import _defineProperty from\"/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import APIService from'../APIService';import React,{useState,useEffect}from'react';import ExerciseForm from'./ExerciseForm';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function WorkoutList(props){var _useState=useState({exercise_name:\"\",reps:\"\",sets:\"\"}),_useState2=_slicedToArray(_useState,2),exercise=_useState2[0],SetExercise=_useState2[1];var _useCookies=useCookies(['mytoken']),_useCookies2=_slicedToArray(_useCookies,1),token=_useCookies2[0];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),chosenWorkout=_useState4[0],setchosenWorkout=_useState4[1];var _useState5=useState({workout:\"\",exercise:\"\"}),_useState6=_slicedToArray(_useState5,1),exerciseEdit=_useState6[0];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showAddForm=_useState8[0],setShowAddForm=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showEditForm=_useState10[0],setShowEditForm=_useState10[1];var _useState11=useState({reps:\"\",sets:\"\"}),_useState12=_slicedToArray(_useState11,1),errors=_useState12[0];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),workouts=_useState14[0],setWorkouts=_useState14[1];useEffect(function(){setWorkouts(props.workouts);},[props.workouts]);var ExrAddForm=function ExrAddForm(workout){setShowAddForm(!showAddForm);setchosenWorkout(workout.title);};var ExrEditForm=function ExrEditForm(workout,exercise){setShowEditForm(!showEditForm);exerciseEdit.workout=workout.title;exerciseEdit.exercise=exercise.exercise_name;};var deleteBtn=function deleteBtn(workout){APIService.DeleteWorkout(workout.id).then(window.location.reload()).catch(function(error){return console.log(error);});};var addNewEx=function addNewEx(workout,exercise){var tmp_workouts=[];workouts.forEach(function(myworkout){if(myworkout.id===workout){var wtmp=myworkout;wtmp.exercises.push(exercise);tmp_workouts.push(wtmp);}else{tmp_workouts.push(myworkout);}});setWorkouts(tmp_workouts);};var UpdEx=function UpdEx(workout,exercise){var tmp_workouts=[];workouts.forEach(function(myworkout){if(myworkout.id==workout.id){var wtmp=myworkout;var index=wtmp.exercises.findIndex(function(ex){return ex.exercise_name===exercise.exercise_name;});wtmp.exercises[index]=exercise;tmp_workouts.push(wtmp);}else{tmp_workouts.push(myworkout);}});setWorkouts(tmp_workouts);};var dltEx=function dltEx(exercise){var tmp_workouts=[];workouts.forEach(function(workout){var wtmp=workout;wtmp.exercises=workout.exercises.filter(function(exer){if(exer.exercise_name===exercise.exercise_name){return false;}return true;});tmp_workouts.push(wtmp);});setWorkouts(tmp_workouts);};var deleteExcr=function deleteExcr(workout,exercise){APIService.DeleteExercise(workout.id,exercise,token['mytoken']).then(dltEx(exercise)).catch(function(error){return console.log(error);});};var UpdateExercise=function UpdateExercise(event,workout,name){event.preventDefault();exercise.exercise_name=name;if(errors.reps.length===0&&errors.reps.length===0){APIService.UpdateExercise(workout.id,exercise,token['mytoken']).then(UpdEx(workout,exercise)).then(setShowEditForm(false)).catch(function(error){return console.log(error);});}};var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;SetExercise(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});switch(name){case\"reps\":errors.reps=!isNaN(value)&&0<value&&value<30?'':\"Must be a number between 0 and 30\";if(value===\"\")errors.reps=\"\";break;case\"sets\":errors.sets=!isNaN(value)&&0<value&&value<10?'':\"Must be a number between 0 and 10\";if(value===\"\")errors.sets=\"\";break;default:break;}};return/*#__PURE__*/_jsx(\"div\",{className:\"WorkoutList\",children:workouts&&workouts.map(function(workout){return/*#__PURE__*/_jsxs(\"div\",{className:\"WorkoutElement\",children:[/*#__PURE__*/_jsx(\"h3\",{children:workout.title}),workout.exercises.map(function(exercise){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"h2\",{children:exercise.exercise_name}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Reps:\",exercise.reps]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Sets:\",exercise.sets]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary test\",onClick:function onClick(){return ExrEditForm(workout,exercise);},children:\" Edit Exercise\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger test\",onClick:function onClick(){return deleteExcr(workout,exercise);},children:\" Delete exercise\"}),showEditForm&&exercise.exercise_name===exerciseEdit.exercise&&workout.title===exerciseEdit.workout&&/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(e){return UpdateExercise(e,workout,exercise.exercise_name);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"Row\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Reps:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"reps\",onChange:handleChange})]}),errors.reps.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.reps}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Sets:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sets\",onChange:handleChange})]}),errors.sets.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.sets}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Change\"})]})})]})},exercise.exercise_name);}),showAddForm&&workout.title===chosenWorkout&&/*#__PURE__*/_jsx(ExerciseForm,{addEx:addNewEx,workout:workout,showAddForm:setShowAddForm}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:function onClick(){return ExrAddForm(workout);},children:\"Add new exercise\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteBtn(workout);},children:\" Delete workout\"})})]})]},workout.id);})});}export default WorkoutList;","map":{"version":3,"sources":["/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/src/components/WorkoutList.js"],"names":["APIService","React","useState","useEffect","ExerciseForm","useCookies","WorkoutList","props","exercise_name","reps","sets","exercise","SetExercise","token","chosenWorkout","setchosenWorkout","workout","exerciseEdit","showAddForm","setShowAddForm","showEditForm","setShowEditForm","errors","workouts","setWorkouts","ExrAddForm","title","ExrEditForm","deleteBtn","DeleteWorkout","id","then","window","location","reload","catch","error","console","log","addNewEx","tmp_workouts","forEach","myworkout","wtmp","exercises","push","UpdEx","index","findIndex","ex","dltEx","filter","exer","deleteExcr","DeleteExercise","UpdateExercise","event","name","preventDefault","length","handleChange","e","target","value","prevState","isNaN","map"],"mappings":"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","sourcesContent":["import APIService from '../APIService';\nimport React, {useState, useEffect} from 'react'\nimport ExerciseForm from './ExerciseForm';\nimport {useCookies} from 'react-cookie';\n\n\n\nfunction WorkoutList(props) {\n    \n    const [exercise, SetExercise] = useState({exercise_name:\"\", reps:\"\", sets:\"\"})\n    const [token] = useCookies(['mytoken'])\n    const [chosenWorkout,setchosenWorkout] =  useState(\"\")\n    const [exerciseEdit] = useState({workout:\"\",exercise:\"\"})\n    const [showAddForm, setShowAddForm] = useState(false)\n    const [showEditForm, setShowEditForm] = useState(false);\n    const [errors] = useState({reps:\"\",sets:\"\"})\n    const [workouts, setWorkouts] = useState([])\n \n\n    useEffect(() => {\n        setWorkouts(props.workouts)\n    }, [props.workouts])\n\n    const ExrAddForm = (workout) => {\n        setShowAddForm(!showAddForm);\n        setchosenWorkout(workout.title)\n    }\n\n\n    const ExrEditForm = (workout, exercise) => {\n        setShowEditForm(!showEditForm);\n        exerciseEdit.workout = workout.title\n        exerciseEdit.exercise = exercise.exercise_name\n        \n    }\n\n   \n    const deleteBtn = (workout) => {\n        APIService.DeleteWorkout(workout.id)\n        .then(window.location.reload())\n        .catch(error => console.log(error))\n    }\n\n    const addNewEx = (workout, exercise) => {\n        var tmp_workouts = []\n        workouts.forEach(myworkout => {\n            if(myworkout.id === workout){\n                const wtmp = myworkout\n                wtmp.exercises.push(exercise)\n                tmp_workouts.push(wtmp)\n            }\n            else{\n                tmp_workouts.push(myworkout)\n            }\n            })\n        setWorkouts(tmp_workouts)\n        \n    }\n\n    const UpdEx = (workout, exercise) => {\n        var tmp_workouts = []\n        workouts.forEach(myworkout => {\n            if(myworkout.id == workout.id){\n                const wtmp = myworkout\n                const index = wtmp.exercises.findIndex(\n                    (ex) => ex.exercise_name === exercise.exercise_name)\n                wtmp.exercises[index] = exercise\n                tmp_workouts.push(wtmp)\n            }\n            else{\n                tmp_workouts.push(myworkout)\n            }\n            })\n        setWorkouts(tmp_workouts)\n        \n    }\n\n    const dltEx = (exercise) => {\n        var tmp_workouts = []\n        workouts.forEach(workout => {\n            const wtmp = workout\n            wtmp.exercises = workout.exercises.filter(exer => {\n                if(exer.exercise_name === exercise.exercise_name) {\n                   return false\n                      }\n                  return true})\n        \n              tmp_workouts.push(wtmp)\n            })\n        setWorkouts(tmp_workouts)\n      }\n    \n\n    const deleteExcr = (workout, exercise) =>{\n        \n        APIService.DeleteExercise(workout.id, exercise, token['mytoken'])\n        .then(dltEx(exercise))\n        .catch(error => console.log(error))\n    }\n\n    const UpdateExercise = (event, workout, name) => {\n        event.preventDefault()\n        exercise.exercise_name = name\n        if(errors.reps.length ===  0 && errors.reps.length ===  0){\n            APIService.UpdateExercise(workout.id, exercise, token['mytoken'])\n            .then(UpdEx(workout,exercise))\n            .then(setShowEditForm(false))\n            .catch(error => console.log(error))\n        }\n      }\n    \n\n    const handleChange = e => {\n        const {name, value} = e.target;\n        SetExercise(prevState => ({\n            ...prevState,\n            [name]:value\n        }))\n        switch(name){\n            case \"reps\":\n                errors.reps = \n                    !isNaN(value) && 0 < value && value < 30 ? '' : \"Must be a number between 0 and 30\"\n\n                if (value === \"\")\n                    errors.reps = \"\" \n                break\n\n            case \"sets\":\n                errors.sets = \n                    !isNaN(value) && 0 < value && value < 10 ? '' : \"Must be a number between 0 and 10\"\n                if (value === \"\")\n                    errors.sets = \"\" \n                break\n            default:\n                break\n        }\n    }\n\n\n\n    return (\n        <div className=\"WorkoutList\">\n          \n            {workouts && workouts.map(workout => {\n                return (\n                    <div className=\"WorkoutElement\" key = {workout.id}>\n                        <h3>{workout.title}</h3>\n                        {workout.exercises.map(exercise =>{\n                            return (\n                                \n                                <div key = {exercise.exercise_name}>\n                                    <div className = \"row\">\n                                        <div className = \"col\">\n                                            <h2>{exercise.exercise_name}</h2>\n                                          \n                                            <h2>Reps:{exercise.reps}</h2>\n                                            <h2>Sets:{exercise.sets}</h2>\n                                            \n                                        </div>\n                                     \n                                 \n                                        <button className = \"btn btn-primary test\" onClick  = {() => ExrEditForm(workout, exercise)}> Edit Exercise</button>\n                              \n                                        <button className = \"btn btn-danger test\" onClick  = {() => deleteExcr(workout,exercise)}> Delete exercise</button>\n                        \n                                    {showEditForm &&\n                                     (exercise.exercise_name === exerciseEdit.exercise) &&\n                                      (workout.title === exerciseEdit.workout) && \n\n                                    <form onSubmit={(e) => UpdateExercise(e,workout, exercise.exercise_name)}>\n                                        <div className=\"Row\">\n                                        <label>\n                                        Reps:\n                                        <input type=\"text\"  name=\"reps\"  onChange={handleChange}/>\n                                        </label>\n                                        {errors.reps.length > 0 && <span className='error'>{errors.reps}</span>}\n                                        <label>\n                                        Sets:\n                                        <input type=\"text\"  name=\"sets\" onChange={handleChange}/>\n                                        </label>\n                                        {errors.sets.length > 0 && <span className='error'>{errors.sets}</span>}\n                                        <input type=\"submit\" value=\"Change\" />\n                                        </div>\n                                       \n                                  </form>\n                                    } \n                                    </div>\n                                </div>\n                            )\n                        })\n\n                        }\n                        {showAddForm && (workout.title === chosenWorkout) &&\n                            <ExerciseForm addEx = {addNewEx} workout={workout} showAddForm={setShowAddForm}/>\n                        }\n\n                      \n                    \n                        <div className = \"row\">\n                            <div className = \"col-md-2\">\n                                <button className = \"btn btn-secondary\" onClick = {() => ExrAddForm(workout)} > \n                                                                        Add new exercise</button>\n                            </div>\n                            <div className = \"col-md-2\">\n                                <button className = \"btn btn-danger\" onClick  = {() => deleteBtn(workout)}> Delete workout</button>\n                            </div>\n                          \n\n                        </div>\n                    </div>\n                    )\n                }\n            )}\n           \n            </div> \n    )\n}\n\n\nexport default WorkoutList\n\n"]},"metadata":{},"sourceType":"module"}