{"ast":null,"code":"import _slicedToArray from\"/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import APIService from'../APIService';import{useCookies}from'react-cookie';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useCookies=useCookies(['mytoken']),_useCookies2=_slicedToArray(_useCookies,2),token=_useCookies2[0],setToken=_useCookies2[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLogin=_useState8[0],setLogin=_useState8[1];var history=useHistory();useEffect(function(){if(token['mytoken']&&token['mytoken']!==\"undefined\"){history.push('/home');}},[token,history]);var loginBtn=function loginBtn(){APIService.LoginUser({username:username,password:password}).then(function(resp){return setToken('mytoken',resp.token);}).catch(function(error){return console.log(error);});};var RegisterBtn=function RegisterBtn(){APIService.RegisterUser({username:username,password:password,email:email}).then(function(){return loginBtn();}).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),isLogin?/*#__PURE__*/_jsx(\"h1\",{children:\"Please Login \"}):/*#__PURE__*/_jsx(\"h1\",{children:\"Please Register \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",placeholder:\"Please Enter Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Please Enter Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),isLogin?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",placeholder:\"Please Enter Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),isLogin?/*#__PURE__*/_jsx(\"button\",{onClick:loginBtn,className:\"btn btn-primary\",children:\"Login\"}):/*#__PURE__*/_jsx(\"button\",{onClick:RegisterBtn,className:\"btn btn-primary\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"br\",{}),isLogin?/*#__PURE__*/_jsxs(\"h5\",{children:[\"If You Don't Have Account, Please \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return setLogin(false);},children:\"Register\"}),\"Here\"]}):/*#__PURE__*/_jsxs(\"h5\",{children:[\"If You Have Account, Please \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return setLogin(true);},children:\"Login\"}),\"Here\"]})]})]});}export default Login;","map":{"version":3,"sources":["/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/src/components/Login.js"],"names":["React","useState","useEffect","APIService","useCookies","useHistory","Login","username","setUsername","password","setPassword","email","setEmail","token","setToken","isLogin","setLogin","history","push","loginBtn","LoginUser","then","resp","catch","error","console","log","RegisterBtn","RegisterUser","e","target","value"],"mappings":"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","sourcesContent":["\n\nimport React, {useState, useEffect} from 'react'\nimport APIService from '../APIService';\nimport {useCookies} from 'react-cookie';\nimport {useHistory} from 'react-router-dom';\n\nfunction Login() {\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [email, setEmail] = useState('')\n    const [token, setToken] = useCookies(['mytoken'])\n    const [isLogin, setLogin] = useState(true)\n    let history = useHistory()\n\n\n    useEffect(() => {\n        if(token['mytoken'] && token['mytoken'] !== \"undefined\") {\n            history.push('/home')\n        }\n    }, [token,history])\n\n    const loginBtn = () => {\n        APIService.LoginUser({username, password})\n        .then(resp => setToken('mytoken',resp.token))\n        .catch(error => console.log(error))\n    }\n\n    const RegisterBtn = () => {\n        APIService.RegisterUser({username, password, email})\n        .then(() =>  loginBtn())\n        .catch(error =>console.log(error))\n\n    }\n    return (\n        <div className = \"App\">\n            <br/>\n            <br/>\n            {isLogin ? <h1>Please Login </h1> : <h1>Please Register </h1>}\n            \n\n            <br/>\n            <br/>\n\n            <div className = \"mb-3\">\n            <label htmlFor = \"username\" className = \"form-label\">Username</label>\n            <input type = \"text\" className = \"form-control\" id=\"username\" placeholder = \"Please Enter Username\"\n            value = {username} onChange = {e => setUsername(e.target.value)}\n            />\n\n            </div>\n\n            <div className = \"mb-3\">\n            <label htmlFor = \"password\" className = \"form-label\">Password</label>\n            <input type = \"password\" className = \"form-control\" id=\"password\" placeholder = \"Please Enter Password\"\n            value = {password} onChange = {e => setPassword(e.target.value)}\n            \n            />\n\n            </div>\n\n            {isLogin ? <div></div>: \n            <div className = \"mb-3\">\n                <label htmlFor = \"email\" className = \"form-label\">Email</label>\n                <input type = \"email\" className = \"form-control\" id=\"email\" placeholder = \"Please Enter Email\"\n                value = {email} onChange = {e => setEmail(e.target.value)}\n                \n                />\n\n            </div> \n            }\n\n            {isLogin ?  <button onClick = {loginBtn} className = \"btn btn-primary\">Login</button>\n            :  <button onClick = {RegisterBtn} className = \"btn btn-primary\">Register</button>\n        }\n\n           \n            <div className = \"mb-3\">\n            <br/>\n            {isLogin ? <h5>If You Don't Have Account, Please <button className = \"btn btn-primary\" onClick = {() => setLogin(false)} >Register</button>Here</h5> \n             :    \n              <h5>If You Have Account, Please <button className = \"btn btn-primary\" onClick = {() => setLogin(true)} >Login</button>Here</h5> \n            }\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}