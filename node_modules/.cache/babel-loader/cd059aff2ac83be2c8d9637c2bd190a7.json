{"ast":null,"code":"import _slicedToArray from\"/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import APIService from'../APIService';import{useState,useEffect}from'react';import{useParams}from\"react-router-dom\";import{useCookies}from'react-cookie';import WorkoutList from'./WorkoutList';import WorkoutForm from'./WorkoutForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TrainingPlan(){var _useParams=useParams(),slug=_useParams.slug;var _useCookies=useCookies(['mytoken']),_useCookies2=_slicedToArray(_useCookies,1),token=_useCookies2[0];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),plan=_useState2[0],setPlan=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),workout=_useState4[0],SetWorkouts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),clicked=_useState6[0],setClicked=_useState6[1];var buttonHandler=function buttonHandler(){setClicked(function(current){return!current;});};useEffect(function(){APIService.PlanDetail(slug,token['mytoken']).then(function(resp){return setPlan(resp);}).then(plan&&SetWorkouts(plan[0].workouts)).catch(function(error){return console.log(error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success\",style:{height:\"60px\",width:\"300px\"},onClick:buttonHandler,children:\"Create new Workout\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),plan&&/*#__PURE__*/_jsx(WorkoutList,{workouts:plan[0].workouts,target:plan[0].target}),clicked?/*#__PURE__*/_jsx(WorkoutForm,{plan_id:plan[0].id}):/*#__PURE__*/_jsx(\"div\",{})]});}export default TrainingPlan;","map":{"version":3,"sources":["/home/karol/Documents/Engenieer_plan/tesis/thesis/frontend/src/components/TrainingPlan.js"],"names":["React","APIService","useState","useEffect","useParams","useCookies","WorkoutList","WorkoutForm","TrainingPlan","slug","token","plan","setPlan","workout","SetWorkouts","clicked","setClicked","buttonHandler","current","PlanDetail","then","resp","workouts","catch","error","console","log","height","width","target","id"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAAQC,UAAR,KAAyB,cAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFAGA,QAASC,CAAAA,YAAT,EAAwB,CAIpB,eAAaJ,SAAS,EAAtB,CAAKK,IAAL,YAAKA,IAAL,CACA,gBAAgBJ,UAAU,CAAC,CAAC,SAAD,CAAD,CAA1B,4CAAOK,KAAP,iBACA,cAAwBR,QAAQ,CAAC,EAAD,CAAhC,wCAAOS,IAAP,eAAaC,OAAb,eACA,eAA+BV,QAAQ,CAAC,EAAD,CAAvC,yCAAOW,OAAP,eAAgBC,WAAhB,eACA,eAA8BZ,QAAQ,CAAC,KAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBD,UAAU,CAAC,SAAAE,OAAO,QAAI,CAACA,OAAL,EAAR,CAAV,CACH,CAFD,CAKAf,SAAS,CAAC,UAAM,CACZF,UAAU,CAACkB,UAAX,CAAsBV,IAAtB,CAA2BC,KAAK,CAAC,SAAD,CAAhC,EACCU,IADD,CACM,SAAAC,IAAI,QAAIT,CAAAA,OAAO,CAACS,IAAD,CAAX,EADV,EAECD,IAFD,CAEMT,IAAI,EAAIG,WAAW,CAACH,IAAI,CAAC,CAAD,CAAJ,CAAQW,QAAT,CAFzB,EAGCC,KAHD,CAGO,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAHZ,EAIH,CALQ,CAKP,EALO,CAAT,CAOA,mBACI,oCACI,aADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,KAAK,CAAI,CAACG,MAAM,CAAC,MAAR,CAAeC,KAAK,CAAE,OAAtB,CAA3D,CAA0F,OAAO,CAAEX,aAAnG,gCAFJ,cAMI,aANJ,cAOI,aAPJ,CASKN,IAAI,eAAI,KAAC,WAAD,EAAa,QAAQ,CAAEA,IAAI,CAAC,CAAD,CAAJ,CAAQW,QAA/B,CAAyC,MAAM,CAAEX,IAAI,CAAC,CAAD,CAAJ,CAAQkB,MAAzD,EATb,CAUKd,OAAO,cAAG,KAAC,WAAD,EAAa,OAAO,CAAEJ,IAAI,CAAC,CAAD,CAAJ,CAAQmB,EAA9B,EAAH,cAAuC,cAVnD,GADJ,CAeH,CAMD,cAAetB,CAAAA,YAAf","sourcesContent":["import React from 'react'\nimport APIService from '../APIService';\nimport {useState, useEffect} from 'react'\nimport { useParams } from \"react-router-dom\";\nimport {useCookies} from 'react-cookie';\nimport WorkoutList from './WorkoutList';\nimport WorkoutForm from './WorkoutForm';\n\n\nfunction TrainingPlan() {\n\n    \n\n    let {slug} = useParams();\n    const [token] = useCookies(['mytoken'])\n    const [plan, setPlan] = useState(\"\")\n    const [workout, SetWorkouts] = useState(\"\")\n    const [clicked, setClicked] = useState(false);\n\n\n    const buttonHandler = () => {\n        setClicked(current => !current)\n    }\n\n\n    useEffect(() => {\n        APIService.PlanDetail(slug,token['mytoken'])\n        .then(resp => setPlan(resp))\n        .then(plan && SetWorkouts(plan[0].workouts))\n        .catch(error => console.log(error))\n    },[])\n\n    return (\n        <div>\n            <br/>\n            <button type=\"button\" className=\"btn btn-success\" style = {{height:\"60px\",width: \"300px\"}}onClick={buttonHandler} >\n                 Create new Workout\n            </button>\n            \n            <br/>\n            <br/>\n\n            {plan && <WorkoutList workouts={plan[0].workouts} target={plan[0].target}/>}\n            {clicked ? <WorkoutForm plan_id={plan[0].id}/>:<div></div>}\n\n        </div>\n    )\n}\n\nTrainingPlan.propTypes = {\n\n}\n\nexport default TrainingPlan\n\n"]},"metadata":{},"sourceType":"module"}